<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>窗帘之家</title>
  <style>
    body { margin: 0; font-family: Arial, sans-serif; background: #f9fafb; }
    header { display: flex; justify-content: space-between; align-items: center; padding: 16px 32px; background: #fff; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
    header h1 { font-size: 24px; font-weight: bold; cursor: pointer; }
    header .cart { position: relative; border: 1px solid #ddd; border-radius: 50%; padding: 8px; cursor: pointer; }
    header .cart span { position: absolute; top: -6px; right: -6px; background: red; color: #fff; font-size: 12px; border-radius: 50%; padding: 2px 6px; }
    .banner { position: relative; width: 100%; height: 300px; overflow: hidden; }
    .banner img { width: 100%; height: 100%; object-fit: cover; display: block; }
    .banner .overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center; }
    .banner h2 { color: #fff; font-size: 32px; font-weight: bold; }
    .products { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 16px; padding: 32px; }
    .product { background: #fff; border-radius: 16px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); overflow: hidden; display: flex; flex-direction: column; cursor: pointer; }
    .product img { width: 100%; height: 180px; object-fit: cover; }
    .product .info { padding: 16px; display: flex; flex-direction: column; gap: 8px; }
    .product button { background: #2563eb; color: #fff; padding: 8px; border: none; border-radius: 8px; cursor: pointer; }
    .about { background: #fff; text-align: center; padding: 32px; }
    .about h3 { font-size: 24px; font-weight: bold; margin-bottom: 16px; }
    footer { background: #1f2937; color: #d1d5db; text-align: center; padding: 16px; }
    .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.6); display: flex; align-items: center; justify-content: center; visibility: hidden; opacity: 0; transition: 0.3s; }
    .modal.active { visibility: visible; opacity: 1; }
    .modal-content { background: #fff; padding: 24px; border-radius: 16px; max-width: 600px; width: 90%; position: relative; }
    .modal-content img { width: 100%; border-radius: 12px; }
    .close { position: absolute; top: 10px; right: 14px; font-size: 20px; cursor: pointer; }
    .cart-page { padding: 32px; display: none; }
    .cart-page.active { display: block; }
    .cart-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; background: #fff; padding: 12px; border-radius: 8px; box-shadow: 0 1px 4px rgba(0,0,0,0.1); }
    .cart-item span { flex: 1; }
    .cart-item input { width: 50px; margin: 0 8px; }
    .checkout { margin-top: 16px; background: #16a34a; color: #fff; padding: 10px; border: none; border-radius: 8px; cursor: pointer; width: 100%; }
    .total { font-weight: bold; margin-top: 12px; text-align: right; }
    .favorites { position: fixed; right: 20px; bottom: 20px; background: #2563eb; color: #fff; padding: 12px; border-radius: 50%; cursor: pointer; font-size: 20px; }
    .favorites-page { position: fixed; inset: 0; background: rgba(0,0,0,0.6); display: none; align-items: center; justify-content: center; }
    .favorites-page.active { display: flex; }
    .favorites-content { background: #fff; padding: 24px; border-radius: 16px; max-width: 500px; width: 90%; }
    .favorites-content h3 { margin-top: 0; }
  </style>
</head>
<body>
<header>
  <h1 onclick="goHome()">窗帘之家</h1>
  <div class="cart" onclick="showCart()">🛒<span id="cartCount">0</span></div>
</header>

<section class="banner">
  <img id="bannerImg" src="https://picsum.photos/seed/banner1/1200/400" alt="Banner">
  <div class="overlay">
    <h2>让家更温馨，从一块窗帘开始</h2>
  </div>
</section>

<main class="products" id="productList"></main>
<section class="cart-page" id="cartPage">
  <h2>🛒 我的购物车</h2>
  <div id="cartItems"></div>
  <p class="total" id="cartTotal">总计: ¥0</p>
  <button class="checkout" onclick="checkout()">去结算</button>
</section>

<section class="about">
  <h3>关于我们</h3>
  <p>窗帘之家专注于高品质窗帘设计与销售，我们希望通过简约、优雅、舒适的窗帘，为您的家营造温馨氛围。</p>
</section>

<footer>
  <p>© 2025 窗帘之家. 保留所有权利.</p>
  <p>联系方式: curtain@shop.com | 123-456-7890</p>
</footer>

<div class="modal" id="productModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">×</span>
    <img id="modalImg" src="" alt="">
    <h3 id="modalName"></h3>
    <p id="modalDesc"></p>
    <p id="modalPrice" style="font-weight:bold"></p>
    <button onclick="addModalToCart()">加入购物车</button>
    <button onclick="toggleFavorite()" style="margin-top:10px; background:#f59e0b;">收藏</button>
  </div>
</div>

<div class="favorites" onclick="showFavorites()">❤</div>
<div class="favorites-page" id="favoritesPage">
  <div class="favorites-content">
    <h3>我的收藏</h3>
    <div id="favoritesList"></div>
    <button onclick="closeFavorites()" style="margin-top:10px; width:100%; padding:8px; background:#2563eb; color:#fff; border:none; border-radius:8px;">关闭</button>
  </div>
</div>

<script>
const products = [
  {id:1,name:"现代简约布艺窗帘",price:199,img:"https://picsum.photos/seed/curtain1/600/400",description:"柔软舒适，遮光性强。"},
  {id:2,name:"轻奢风遮光窗帘",price:259,img:"https://picsum.photos/seed/curtain2/600/400",description:"高密度布料，完美遮光。"},
  {id:3,name:"北欧风半透明纱帘",price:169,img:"https://picsum.photos/seed/curtain3/600/400",description:"半透明质感，让光线柔和进入室内。"},
  {id:4,name:"儿童卡通窗帘",price:149,img:"https://picsum.photos/seed/curtain4/600/400",description:"卡通图案，适合儿童房间。"},
  {id:5,name:"田园风棉麻窗帘",price:189,img:"https://picsum.photos/seed/curtain5/600/400",description:"棉麻材质，清新自然。"},
  {id:6,name:"现代简约遮光卷帘",price:210,img:"https://picsum.photos/seed/curtain6/600/400",description:"卷帘设计，安装简便。"},
  {id:7,name:"欧式奢华丝绒窗帘",price:350,img:"https://picsum.photos/seed/curtain7/600/400",description:"丝绒材质，高端大气。"},
  {id:8,name:"北欧风格纱帘套装",price:180,img:"https://picsum.photos/seed/curtain8/600/400",description:"纱帘+窗帘组合，搭配灵活。"},
  {id:9,name:"儿童房卡通卷帘",price:160,img:"https://picsum.photos/seed/curtain9/600/400",description:"卷帘方便操作，趣味图案。"},
  {id:10,name:"轻奢风百叶窗",price:220,img:"https://picsum.photos/seed/curtain10/600/400",description:"百叶窗设计，遮光灵活。"},
  {id:11,name:"现代布艺拼接窗帘",price:200,img:"https://picsum.photos/seed/curtain11/600/400",description:"拼接设计，个性十足。"},
  {id:12,name:"日式和风棉麻窗帘",price:195,img:"https://picsum.photos/seed/curtain12/600/400",description:"简约和风，适合日式家居。"},
  {id:13,name:"欧式奢华蕾丝窗帘",price:300,img:"https://picsum.photos/seed/curtain13/600/400",description:"蕾丝材质，精美浪漫。"},
  {id:14,name:"现代遮光卷帘套装",price:240,img:"https://picsum.photos/seed/curtain14/600/400",description:"套装设计，遮光效果好。"}
];

let cart = [];
let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
let currentProduct = null;

function renderProducts(){
  const productList = document.getElementById('productList');
  productList.innerHTML = '';
  products.forEach(p=>{
    const div = document.createElement('div');
    div.className='product';
    div.onclick=()=>openModal(p);
    div.innerHTML=`<img src="${p.img}" alt="${p.name}"><div class="info"><h3>${p.name}</h3><p>¥${p.price}</p></div>`;
    productList.appendChild(div);
  });
}

function openModal(product){
  currentProduct = product;
  document.getElementById('modalImg').src=product.img;
  document.getElementById('modalName').textContent=product.name;
  document.getElementById('modalDesc').textContent=product.description;
  document.getElementById('modalPrice').textContent='¥'+product.price;
  document.getElementById('productModal').classList.add('active');
}

function closeModal(){
  document.getElementById('productModal').classList.remove('active');
}

function addModalToCart(){
  cart.push(currentProduct);
  updateCartCount();
  closeModal();
}

function updateCartCount(){
  document.getElementById('cartCount').textContent=cart.length;
}

function showCart(){
  const cartPage=document.getElementById('cartPage');
  const cartItems=document.getElementById('cartItems');
  cartItems.innerHTML='';
  let total=0;
  cart.forEach((item,index)=>{
    total+=item.price;
    const div=document.createElement('div');
    div.className='cart-item';
    div.innerHTML=`<span>${item.name}</span><span>¥${item.price}</span><button onclick='removeFromCart(${index})'>删除</button>`;
    cartItems.appendChild(div);
  });
  document.getElementById('cartTotal').textContent='总计: ¥'+total;
  cartPage.classList.toggle('active');
}

function removeFromCart(index){
  cart.splice(index,1);
  showCart();
  updateCartCount();
}

function checkout(){
  alert('结算成功，总共 '+cart.length+' 件商品');
  cart=[];
  updateCartCount();
  showCart();
}

function goHome(){
  document.getElementById('cartPage').classList.remove('active');
}

function toggleFavorite(){
  if(!favorites.some(f=>f.id===currentProduct.id)){
    favorites.push(currentProduct);
    localStorage.setItem('favorites',JSON.stringify(favorites));
  }
  closeModal();
}

function showFavorites(){
  const favPage=document.getElementById('favoritesPage');
  const favList=document.getElementById('favoritesList');
  favList.innerHTML='';
  favorites.forEach(f=>{
    const div=document.createElement('div');
    div.textContent=f.name+' ¥'+f.price;
    favList.appendChild(div);
  });
  favPage.classList.add('active');
}

function closeFavorites(){
  document.getElementById('favoritesPage').classList.remove('active');
}

renderProducts();
</script>
</body>
</html>
